{"map":"{\"version\":3,\"sources\":[\"birthday2019.bundle.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"3\",\"__webpack_exports__\",\"BootScene\",\"init\",\"this\",\"game\",\"scale\",\"scaleMode\",\"Phaser\",\"ScaleManager\",\"SHOW_ALL\",\"pageAlignHorizontally\",\"pageAlignVertically\",\"load\",\"CustomLoader\",\"preload\",\"image\",\"state\",\"start\",\"PreloaderScene\",\"_this\",\"loadingBar\",\"add\",\"sprite\",\"anchor\",\"setTo\",\"setPreloadSprite\",\"webfont\",\"forEach\",\"x\",\"tilemap\",\"concat\",\"Tilemap\",\"TILED_JSON\",\"spritesheet\",\"audio\",\"TitleScene\",\"data\",\"keys\",\"input\",\"keyboard\",\"addKeys\",\"space\",\"KeyCode\",\"SPACEBAR\",\"titleMsg\",\"isVictory\",\"isGameOver\",\"help\",\"text\",\"width\",\"height\",\"font\",\"fill\",\"setShadow\",\"title\",\"y\",\"tween\",\"to\",\"Easing\",\"Sinusoidal\",\"InOut\",\"onUp\",\"addOnce\",\"mapKey\",\"character\",\"col\",\"row\",\"wearing\",\"isFirstTime\",\"pickedUp\",\"_typeof\",\"obj\",\"iterator\",\"constructor\",\"_possibleConstructorReturn\",\"self\",\"ReferenceError\",\"_assertThisInitialized\",\"_getPrototypeOf\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"_setPrototypeOf\",\"Status\",\"_Phaser$Group\",\"instance\",\"Constructor\",\"TypeError\",\"_classCallCheck\",\"position\",\"make\",\"lifebar\",\"LifeBar\",\"health\",\"txt\",\"set\",\"subClass\",\"superClass\",\"writable\",\"configurable\",\"_inherits\",\"Group\",\"logger_typeof\",\"_defineProperties\",\"target\",\"props\",\"length\",\"descriptor\",\"logger_possibleConstructorReturn\",\"logger_assertThisInitialized\",\"logger_getPrototypeOf\",\"logger_setPrototypeOf\",\"MESSAGE_COUNT\",\"STYLE\",\"LINE_HEIGHT\",\"Logger\",\"logger_classCallCheck\",\"messages\",\"messageLabels\",\"label\",\"alpha\",\"push\",\"protoProps\",\"staticProps\",\"logger_inherits\",\"message\",\"console\",\"log\",\"unshift\",\"pop\",\"_updateLabels\",\"_this2\",\"setText\",\"PlayScene\",\"initialState\",\"up\",\"UP\",\"down\",\"DOWN\",\"left\",\"LEFT\",\"right\",\"RIGHT\",\"wait\",\"_loop\",\"onDown\",\"isTurnReady\",\"_moveCharacter\",\"sfx\",\"walk\",\"hit\",\"chest\",\"gameover\",\"song\",\"volume\",\"isDecoded\",\"isPlaying\",\"loopFull\",\"onDecoded\",\"map\",\"Map\",\"items\",\"group\",\"spawnItems\",\"open\",\"enemies\",\"spawnEnemies\",\"chara\",\"Character\",\"events\",\"onKilled\",\"visible\",\"play\",\"In\",\"onComplete\",\"tweens\",\"remove\",\"stop\",\"existing\",\"_checkForExits\",\"statusBar\",\"world\",\"logger\",\"onHit\",\"setValue\",\"_nextTurn\",\"promises\",\"enemy\",\"act\",\"Promise\",\"all\",\"then\",\"err\",\"direction\",\"_this3\",\"offsetCol\",\"offsetRow\",\"otherObject\",\"_getObjectAt\",\"isEnemy\",\"attack\",\"cols\",\"rows\",\"isChest\",\"content\",\"canWear\",\"wear\",\"id\",\"isThrone\",\"hasFullRegalia\",\"kill\",\"canMoveCharacter\",\"move\",\"_this4\",\"COLS\",\"ROWS\",\"exit\",\"restart\",\"filter\",\"isWearing\",\"getExit\",\"utils\",\"getObjectAt\",\"BIRTHDAY_2019_CONFIG\",\"type\",\"AUTO\",\"parent\",\"window\",\"addEventListener\",\"birthday2019\",\"Game\"],\"mappings\":\"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\"}","code":"!function(t){var e={};function a(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,\"a\",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p=\"\",a(a.s=3)}({3:function(t,e,a){\"use strict\";a.r(e);var i={init:function(){this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.load=new CustomLoader(this.game)},preload:function(){this.game.load.image(\"preloader_bar\",\"images/preloader_bar.png\")},create:function(){this.game.state.start(\"preloader\")}},s={preload:function(){var t=this;this.loadingBar=this.game.add.sprite(0,240,\"preloader_bar\"),this.loadingBar.anchor.setTo(0,.5),this.load.setPreloadSprite(this.loadingBar),this.game.load.webfont(\"gamja\",\"Patrick Hand\"),[\"00\",\"01\",\"02\"].forEach((function(e){t.game.load.tilemap(\"map:\".concat(e),\"data/area\".concat(e,\".json\"),null,Phaser.Tilemap.TILED_JSON)})),this.game.load.image(\"title\",\"images/title.png\"),this.game.load.image(\"title:empty\",\"images/title_empty.png\"),this.game.load.image(\"princess\",\"images/princess.png\"),this.game.load.image(\"background\",\"images/background.png\"),this.game.load.image(\"tileset\",\"images/tileset.png\"),this.game.load.image(\"hud:logger\",\"images/hud.png\"),this.game.load.image(\"hud:status\",\"images/status.png\"),this.game.load.image(\"throne\",\"images/door.png\"),this.game.load.image(\"crown\",\"images/crown.png\"),this.game.load.image(\"robe\",\"images/robe.png\"),this.game.load.spritesheet(\"chest\",\"images/chest.png\",48,48),this.game.load.spritesheet(\"scepter\",\"images/scepter.png\",9,27),this.game.load.spritesheet(\"chara\",\"images/chara.png\",48,48),this.game.load.spritesheet(\"slime\",\"images/slime.png\",48,48),this.game.load.audio(\"sfx:walk\",\"audio/walk.wav\"),this.game.load.audio(\"sfx:hit\",\"audio/hit.wav\"),this.game.load.audio(\"sfx:chest\",\"audio/chest.wav\"),this.game.load.audio(\"sfx:gameover\",\"audio/death.wav\"),this.game.load.audio(\"bgm:main\",[\"audio/princess.mp3\",\"audio/princess.ogg\"])},create:function(){this.game.state.start(\"title\",!0,!1,{})}},o={init:function(t){this.data=t},create:function(){var t=this;this.keys=this.game.input.keyboard.addKeys({space:Phaser.KeyCode.SPACEBAR});var e=\"Rogue Princess\";this.data.isVictory&&(e=\"Crowned!\"),this.data.isGameOver&&(e=\"Game Over\"),this.game.add.image(0,0,this.data.isVictory||this.data.isGameOver?\"title:empty\":\"title\");var a=this.game.add.text(this.game.width/2,this.game.height/2+48,\"Press <SPACEBAR> to start\",{font:\"28pt Patrick Hand\",fill:\"#fff\"});a.anchor.setTo(.5),a.setShadow(1,1,\"#53034b\",0);var i=this.game.add.text(this.game.width/2,this.game.height/2-72,e,{font:\"72pt Patrick Hand\",fill:\"#fff\"});(i.anchor.setTo(.5),i.setShadow(4,4,\"#53034b\",0),this.data.isVictory)&&(this.game.add.image(this.game.width/2,this.game.height/2,\"princess\").anchor.setTo(.5),a.y+=200,i.y-=128);this.game.add.tween(a.scale).to({x:1.25,y:1.25},1e3,Phaser.Easing.Sinusoidal.InOut,!0,0,-1,!0),this.keys.space.onUp.addOnce((function(){t.game.state.start(\"play\",!0,!1,{mapKey:\"map:00\",character:{col:7,row:2,wearing:[]},isFirstTime:!0,pickedUp:[]})}))}};function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function r(t,e){return!e||\"object\"!==n(e)&&\"function\"!=typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,a,i,s){var o;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=r(this,h(e).call(this,t))).position.setTo(a,i),o.add(o.game.make.image(0,0,\"hud:status\")),o.lifebar=new LifeBar(o.game,14,10,s.health),o.add(o.lifebar);var n=o.game.make.text(o.width-14,10,\"MOVE: ←↑↓→ WAIT: space\",{fill:\"#fff\",font:\"20pt Patrick Hand\"});return n.anchor.set(1,0),o.add(n),o}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,Phaser.Group),e}();function g(t){return(g=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function u(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e){return!e||\"object\"!==g(e)&&\"function\"!=typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=4,y={font:\"20pt Patrick Hand\",fill:\"#ce186a\"},b=30,w=function(t){function e(t,a,i){var s;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(s=d(this,m(e).call(this,t))).position.setTo(a,i),s.add(s.game.make.image(0,0,\"hud:logger\")),s.messages=[],s.messageLabels=[];for(var o=0;o<f;o++){var n=s.game.make.text(10,10+o*b,\"\",y);n.alpha=1-o/f,s.messageLabels.push(n),s.add(n)}return s}var a,i,s;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,Phaser.Group),a=e,(i=[{key:\"log\",value:function(t){console.log(t),this.messages.unshift(t),this.messages.length>f&&this.messages.pop(),this._updateLabels()}},{key:\"clear\",value:function(){this.messages=[],this._updateLabels()}},{key:\"_updateLabels\",value:function(){var t=this;this.messageLabels.forEach((function(e,a){e.setText(a<t.messages.length?t.messages[a]:\"\")}))}}])&&u(a.prototype,i),s&&u(a,s),e}(),v={init:function(t){this.initialState=t},create:function(){var t=this;this.keys=this.game.input.keyboard.addKeys({up:Phaser.KeyCode.UP,down:Phaser.KeyCode.DOWN,left:Phaser.KeyCode.LEFT,right:Phaser.KeyCode.RIGHT,wait:Phaser.KeyCode.SPACEBAR});var e=function(e){t.keys[e].onDown.add((function(){this.isTurnReady&&this._moveCharacter(e)}),t)};for(var a in this.keys)e(a);this.sfx={walk:this.game.add.audio(\"sfx:walk\"),hit:this.game.add.audio(\"sfx:hit\"),chest:this.game.add.audio(\"sfx:chest\"),gameover:this.game.add.audio(\"sfx:gameover\")},this.initialState.isFirstTime&&(this.song=this.game.add.audio(\"bgm:main\"),this.song.volume=.5,this.song.isDecoded&&!this.song.isPlaying?this.song.loopFull():this.song.onDecoded.addOnce((function(){this.song.loopFull()}),this)),this.map=new Map(this.game,this.initialState.mapKey),this.items=this.game.add.group(),this.map.spawnItems(this.items,{open:this.sfx.chest},this.initialState.pickedUp),this.enemies=this.game.add.group(),this.map.spawnEnemies(this.enemies,{hit:this.sfx.hit}),this.chara=new Character(this.game,this.initialState.character.col,this.initialState.character.row,{hit:this.sfx.hit},this.initialState.character),this.chara.events.onKilled.addOnce((function(){t.isTurnReady=!1,t.chara.visible=!0,t.sfx.gameover.play();var e=t.game.add.tween(t.chara);e.to({alpha:0,y:t.chara.y-128},1e3,Phaser.Easing.Sinusoidal.In,!0),e.onComplete.addOnce((function(){t.game.tweens.remove(e),t.song.stop(),t.game.state.start(\"title\",!0,!1,{isGameOver:!0})}))})),this.game.add.existing(this.chara),this._checkForExits(this.chara.col,this.chara.row),this.statusBar=new l(this.game,0,this.game.world.height-192,{health:this.chara.health}),this.game.add.existing(this.statusBar),this.lifebar=this.statusBar.lifebar,this.logger=new w(this.game,0,this.game.world.height-144),this.game.add.existing(this.logger),this.initialState.isFirstTime&&(this.logger.log(\"Your adventure begins!\"),this.logger.log(\"Find your regalia and go to the throne room.\")),this.isTurnReady=!0,this.pickedUp=this.initialState.pickedUp||[],this.chara.events.onHit.add((function(){t.lifebar.setValue(t.chara.health)}))},_nextTurn:function(){var t=this,e={chara:this.chara,map:this.map,enemies:this.enemies,items:this.items},a=[];this.enemies.forEach((function(i){a.push(i.act(e,t.logger))})),Promise.all(a).then((function(){t.isTurnReady=!0})).catch((function(t){console.log(\"something went wrong\",t)}))},_moveCharacter:function(t){var e=this;this.isTurnReady=!1;var a={left:-1,right:1}[t]||0,i={up:-1,down:1}[t]||0,s=this.chara.col+a,o=this.chara.row+i,n=this._getObjectAt(s,o);n&&n.isEnemy?this.chara.attack(n,{cols:a,rows:i},this.logger).then((function(){e._nextTurn()})):n&&n.isChest?n.open().then((function(t){e.logger.log(\"You found: \".concat(t.content)),e.chara.canWear(t.content)&&(e.logger.log(\"You are now wearing: \".concat(t.content)),e.chara.wear(t.content)),e.pickedUp.push(t.id),e._nextTurn()})):n&&n.isThrone?(this.chara.hasFullRegalia()?(n.kill(),this.logger.log(\"Finally! Your kingdom awaits!\")):this.logger.log(\"You need to pickup your full regalia first.\"),this._nextTurn()):this.map.canMoveCharacter(s,o)&&!n?(this.sfx.walk.play(),this._checkForExits(s,o),this.chara.move(s,o),this._nextTurn()):this.isTurnReady=!0},_checkForExits:function(t,e){var a=this;t<0||e<0||t>=Map.COLS||e>=Map.ROWS?this.exit.isVictory?(this.game.state.start(\"title\",!0,!1,{isVictory:!0}),this.song&&this.song.stop()):this.game.state.restart(!0,!1,{mapKey:\"map:\".concat(this.exit.to),character:{col:this.exit.col,row:this.exit.row,health:this.chara.health,wearing:Object.keys(this.chara.wearing).filter((function(t){return a.chara.isWearing(t)}))},pickedUp:this.pickedUp}):this.exit=this.map.getExit(t,e)},_getObjectAt:function(t,e){return utils.getObjectAt(t,e,{enemies:this.enemies,items:this.items})}},O={type:Phaser.AUTO,width:768,height:768,parent:\"game\"};window.addEventListener(\"load\",(function(){var t;(t=new Phaser.Game(O)).state.add(\"boot\",i),t.state.add(\"preloader\",s),t.state.add(\"title\",o),t.state.add(\"play\",v),t.state.start(\"boot\")}))}});","extractedComments":[]}