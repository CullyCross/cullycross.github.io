{"map":"{\"version\":3,\"sources\":[\"birthday2019.bundle.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"Error\",\"__webpack_exports__\",\"BootScene\",\"init\",\"this\",\"game\",\"scale\",\"scaleMode\",\"Phaser\",\"ScaleManager\",\"SHOW_ALL\",\"autoCenter\",\"Scale\",\"Center\",\"CENTER_BOTH\",\"preload\",\"load\",\"image\",\"scene\",\"start\",\"PreloaderScene\",\"_this\",\"loadingBar\",\"add\",\"sprite\",\"anchor\",\"setTo\",\"setPreloadSprite\",\"forEach\",\"x\",\"tilemap\",\"concat\",\"Tilemap\",\"TILED_JSON\",\"spritesheet\",\"audio\",\"TitleScene\",\"data\",\"keys\",\"input\",\"keyboard\",\"addKeys\",\"space\",\"KeyCode\",\"SPACEBAR\",\"titleMsg\",\"isVictory\",\"isGameOver\",\"help\",\"text\",\"width\",\"height\",\"font\",\"fill\",\"setShadow\",\"title\",\"y\",\"tween\",\"to\",\"Easing\",\"Sinusoidal\",\"InOut\",\"onUp\",\"addOnce\",\"mapKey\",\"character\",\"col\",\"row\",\"wearing\",\"isFirstTime\",\"pickedUp\",\"widgets_status\",\"logger\",\"gameMap\",\"utils\",\"PlayScene\",\"state\",\"initialState\",\"up\",\"UP\",\"down\",\"DOWN\",\"left\",\"LEFT\",\"right\",\"RIGHT\",\"wait\",\"_loop\",\"onDown\",\"isTurnReady\",\"_moveCharacter\",\"sfx\",\"walk\",\"hit\",\"chest\",\"gameover\",\"song\",\"volume\",\"isDecoded\",\"isPlaying\",\"loopFull\",\"onDecoded\",\"map\",\"items\",\"group\",\"spawnItems\",\"open\",\"enemies\",\"spawnEnemies\",\"chara\",\"Character\",\"events\",\"onKilled\",\"visible\",\"play\",\"alpha\",\"In\",\"onComplete\",\"tweens\",\"remove\",\"stop\",\"existing\",\"_checkForExits\",\"statusBar\",\"world\",\"health\",\"lifebar\",\"log\",\"onHit\",\"setValue\",\"_nextTurn\",\"_this2\",\"promises\",\"enemy\",\"push\",\"act\",\"Promise\",\"all\",\"then\",\"err\",\"console\",\"direction\",\"_this3\",\"offsetCol\",\"offsetRow\",\"otherObject\",\"_getObjectAt\",\"isEnemy\",\"attack\",\"cols\",\"rows\",\"isChest\",\"content\",\"canWear\",\"wear\",\"id\",\"isThrone\",\"hasFullRegalia\",\"kill\",\"canMoveCharacter\",\"move\",\"_this4\",\"Map\",\"COLS\",\"ROWS\",\"exit\",\"restart\",\"filter\",\"isWearing\",\"getExit\",\"BIRTHDAY_2019_CONFIG\",\"type\",\"AUTO\",\"parent\",\"window\",\"addEventListener\",\"birthday2019\",\"Game\"],\"mappings\":\"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\"}","code":"!function(e){var t={};function i(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=9)}([,,,function(e,t){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nError: ENOENT: no such file or directory, open '/Users/tonyshkurenko/Development/Web/Projects/Personal/tonyshkurenko.github.io/src/birthday2019/widgets/status.js'\")},,,function(e,t){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nError: ENOENT: no such file or directory, open '/Users/tonyshkurenko/Development/Web/Projects/Personal/tonyshkurenko.github.io/src/birthday2019/engine/logger.js'\")},function(e,t){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nError: ENOENT: no such file or directory, open '/Users/tonyshkurenko/Development/Web/Projects/Personal/tonyshkurenko.github.io/src/birthday2019/engine/gameMap.js'\")},function(e,t){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nError: ENOENT: no such file or directory, open '/Users/tonyshkurenko/Development/Web/Projects/Personal/tonyshkurenko.github.io/src/birthday2019/utils/utils.js'\")},function(e,t,i){\"use strict\";i.r(t);var a={init:function(){this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.autoCenter=Phaser.Scale.Center.CENTER_BOTH},preload:function(){this.game.load.image(\"preloader_bar\",\"images/preloader_bar.png\")},create:function(){this.game.scene.start(\"preloader\")}},s={preload:function(){var e=this;this.loadingBar=this.game.add.sprite(0,240,\"preloader_bar\"),this.loadingBar.anchor.setTo(0,.5),this.load.setPreloadSprite(this.loadingBar),[\"00\",\"01\",\"02\"].forEach((function(t){e.game.load.tilemap(\"map:\".concat(t),\"data/area\".concat(t,\".json\"),null,Phaser.Tilemap.TILED_JSON)})),this.game.load.image(\"title\",\"images/title.png\"),this.game.load.image(\"title:empty\",\"images/title_empty.png\"),this.game.load.image(\"princess\",\"images/princess.png\"),this.game.load.image(\"background\",\"images/background.png\"),this.game.load.image(\"tileset\",\"images/tileset.png\"),this.game.load.image(\"hud:logger\",\"images/hud.png\"),this.game.load.image(\"hud:status\",\"images/status.png\"),this.game.load.image(\"throne\",\"images/door.png\"),this.game.load.image(\"crown\",\"images/crown.png\"),this.game.load.image(\"robe\",\"images/robe.png\"),this.game.load.spritesheet(\"chest\",\"images/chest.png\",48,48),this.game.load.spritesheet(\"scepter\",\"images/scepter.png\",9,27),this.game.load.spritesheet(\"chara\",\"images/chara.png\",48,48),this.game.load.spritesheet(\"slime\",\"images/slime.png\",48,48),this.game.load.audio(\"sfx:walk\",\"audio/walk.wav\"),this.game.load.audio(\"sfx:hit\",\"audio/hit.wav\"),this.game.load.audio(\"sfx:chest\",\"audio/chest.wav\"),this.game.load.audio(\"sfx:gameover\",\"audio/death.wav\"),this.game.load.audio(\"bgm:main\",[\"audio/princess.mp3\",\"audio/princess.ogg\"])},create:function(){this.game.scene.start(\"title\",!0,!1,{})}},o={init:function(e){this.data=e},create:function(){var e=this;this.keys=this.game.input.keyboard.addKeys({space:Phaser.KeyCode.SPACEBAR});var t=\"Rogue Princess\";this.data.isVictory&&(t=\"Crowned!\"),this.data.isGameOver&&(t=\"Game Over\"),this.game.add.image(0,0,this.data.isVictory||this.data.isGameOver?\"title:empty\":\"title\");var i=this.game.add.text(this.game.width/2,this.game.height/2+48,\"Press <SPACEBAR> to start\",{font:\"28pt Patrick Hand\",fill:\"#fff\"});i.anchor.setTo(.5),i.setShadow(1,1,\"#53034b\",0);var a=this.game.add.text(this.game.width/2,this.game.height/2-72,t,{font:\"72pt Patrick Hand\",fill:\"#fff\"});(a.anchor.setTo(.5),a.setShadow(4,4,\"#53034b\",0),this.data.isVictory)&&(this.game.add.image(this.game.width/2,this.game.height/2,\"princess\").anchor.setTo(.5),i.y+=200,a.y-=128);this.game.add.tween(i.scale).to({x:1.25,y:1.25},1e3,Phaser.Easing.Sinusoidal.InOut,!0,0,-1,!0),this.keys.space.onUp.addOnce((function(){e.game.scene.start(\"play\",!0,!1,{mapKey:\"map:00\",character:{col:7,row:2,wearing:[]},isFirstTime:!0,pickedUp:[]})}))}},r=i(3),n=i(6),h=i(7),d=i(8),c={init:function(e){this.initialState=e},create:function(){var e=this;this.keys=this.game.input.keyboard.addKeys({up:Phaser.KeyCode.UP,down:Phaser.KeyCode.DOWN,left:Phaser.KeyCode.LEFT,right:Phaser.KeyCode.RIGHT,wait:Phaser.KeyCode.SPACEBAR});var t=function(t){e.keys[t].onDown.add((function(){this.isTurnReady&&this._moveCharacter(t)}),e)};for(var i in this.keys)t(i);this.sfx={walk:this.game.add.audio(\"sfx:walk\"),hit:this.game.add.audio(\"sfx:hit\"),chest:this.game.add.audio(\"sfx:chest\"),gameover:this.game.add.audio(\"sfx:gameover\")},this.initialState.isFirstTime&&(this.song=this.game.add.audio(\"bgm:main\"),this.song.volume=.5,this.song.isDecoded&&!this.song.isPlaying?this.song.loopFull():this.song.onDecoded.addOnce((function(){this.song.loopFull()}),this)),this.map=new h.GameMap(this.game,this.initialState.mapKey),this.items=this.game.add.group(),this.map.spawnItems(this.items,{open:this.sfx.chest},this.initialState.pickedUp),this.enemies=this.game.add.group(),this.map.spawnEnemies(this.enemies,{hit:this.sfx.hit}),this.chara=new Character(this.game,this.initialState.character.col,this.initialState.character.row,{hit:this.sfx.hit},this.initialState.character),this.chara.events.onKilled.addOnce((function(){e.isTurnReady=!1,e.chara.visible=!0,e.sfx.gameover.play();var t=e.game.add.tween(e.chara);t.to({alpha:0,y:e.chara.y-128},1e3,Phaser.Easing.Sinusoidal.In,!0),t.onComplete.addOnce((function(){e.game.tweens.remove(t),e.song.stop(),e.game.scene.start(\"title\",!0,!1,{isGameOver:!0})}))})),this.game.add.existing(this.chara),this._checkForExits(this.chara.col,this.chara.row),this.statusBar=new r.Status(this.game,0,this.game.world.height-192,{health:this.chara.health}),this.game.add.existing(this.statusBar),this.lifebar=this.statusBar.lifebar,this.logger=new n.Logger(this.game,0,this.game.world.height-144),this.game.add.existing(this.logger),this.initialState.isFirstTime&&(this.logger.log(\"Your adventure begins!\"),this.logger.log(\"Find your regalia and go to the throne room.\")),this.isTurnReady=!0,this.pickedUp=this.initialState.pickedUp||[],this.chara.events.onHit.add((function(){e.lifebar.setValue(e.chara.health)}))},_nextTurn:function(){var e=this,t={chara:this.chara,map:this.map,enemies:this.enemies,items:this.items},i=[];this.enemies.forEach((function(a){i.push(a.act(t,e.logger))})),Promise.all(i).then((function(){e.isTurnReady=!0})).catch((function(e){console.log(\"something went wrong\",e)}))},_moveCharacter:function(e){var t=this;this.isTurnReady=!1;var i={left:-1,right:1}[e]||0,a={up:-1,down:1}[e]||0,s=this.chara.col+i,o=this.chara.row+a,r=this._getObjectAt(s,o);r&&r.isEnemy?this.chara.attack(r,{cols:i,rows:a},this.logger).then((function(){t._nextTurn()})):r&&r.isChest?r.open().then((function(e){t.logger.log(\"You found: \".concat(e.content)),t.chara.canWear(e.content)&&(t.logger.log(\"You are now wearing: \".concat(e.content)),t.chara.wear(e.content)),t.pickedUp.push(e.id),t._nextTurn()})):r&&r.isThrone?(this.chara.hasFullRegalia()?(r.kill(),this.logger.log(\"Finally! Your kingdom awaits!\")):this.logger.log(\"You need to pickup your full regalia first.\"),this._nextTurn()):this.map.canMoveCharacter(s,o)&&!r?(this.sfx.walk.play(),this._checkForExits(s,o),this.chara.move(s,o),this._nextTurn()):this.isTurnReady=!0},_checkForExits:function(e,t){var i=this;e<0||t<0||e>=Map.COLS||t>=Map.ROWS?this.exit.isVictory?(this.game.scene.start(\"title\",!0,!1,{isVictory:!0}),this.song&&this.song.stop()):this.game.scene.restart(!0,!1,{mapKey:\"map:\".concat(this.exit.to),character:{col:this.exit.col,row:this.exit.row,health:this.chara.health,wearing:Object.keys(this.chara.wearing).filter((function(e){return i.chara.isWearing(e)}))},pickedUp:this.pickedUp}):this.exit=this.map.getExit(e,t)},_getObjectAt:function(e,t){return Object(d.getObjectAt)(e,t,{enemies:this.enemies,items:this.items})}},l={type:Phaser.AUTO,width:768,height:768,parent:\"game\"};window.addEventListener(\"load\",(function(){var e;(e=new Phaser.Game(l)).scene.add(\"boot\",a),e.scene.add(\"preloader\",s),e.scene.add(\"title\",o),e.scene.add(\"play\",c),e.scene.start(\"boot\")}))}]);","extractedComments":[]}